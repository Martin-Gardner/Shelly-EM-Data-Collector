# Telegraf Configuration for Shelly Collector
#
# This configuration runs the Shelly collector script via Telegraf's exec plugin.
# Telegraf will execute the script, capture its output, and forward it to configured outputs.
#
# To use:
# 1. Copy this section to your main telegraf.conf
# 2. Update the command path to match your installation
# 3. Configure Telegraf outputs (e.g., influxdb_v2)

[[inputs.exec]]
  # Command to execute - adjust path as needed
  commands = ["pwsh /opt/shelly/shelly-collector.ps1"]
  
  # Maximum time to wait for command to complete
  timeout = "30s"
  
  # Expected data format (InfluxDB line protocol)
  data_format = "influx"
